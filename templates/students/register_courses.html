{% extends "../student_base.html" %}
{% block content %}

<div class="dashboard-content-one">
  <!-- Student Table Area Start Here -->
  <div class="card height-auto">
      <div class="card-body">
          <div class="heading-layout1">
              <div class="item-title">
                  <h3>Register Courses</h3>
              </div>
              
          </div>

          {% if messages %}
            {% for message in messages %}
              <div class="ui-alart-box">
                  <div class="dismiss-alart">                                
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {{ message }}!
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>                                
                  </div>
              </div>
            {% endfor %}
          {% endif %}

          <form method="post">
            {% csrf_token %}
            <div class="row">
              <div class="col-xl-6 col-lg-6 col-12 form-group">
                <label for="session" class="form-label">Academic Session<span class="text-danger">*</span></label>
                <input type="text" name="session" id="session" class="form-control" placeholder="e.g. 2024/2025" required>
              </div>
              <div class="col-xl-6 col-lg-6 col-12 form-group">
                <label for="semester" class="form-label">Semester<span class="text-danger">*</span></label>
                <select name="semester" id="semester" class="form-control" required>
                  <option value="">-- Select Semester --</option>
                  <option value="First">First</option>
                  <option value="Second">Second</option>
                </select>
              </div>
            </div>

            <div class="table-responsive">
              <table class="table display data-table text-nowrap">
                  <thead>
                      <tr>
                        <th>Select</th>
                        <th>Course Code</th>
                        <th>Title</th>
                        <th>Credit Unit</th>
                      </tr>
                  </thead>
                  <tbody>
                    {% for course in available_courses %}
                    <tr>
                      <td><input type="checkbox" name="courses" value="{{ course.id }}"></td>
                      <td>{{ course.code }}</td>
                      <td>{{ course.title }}</td>
                      <td>{{ course.credit_unit }}</td>
                    </tr>
                  {% empty %}
                    <tr><td colspan="4" class="text-center">No available courses.</td></tr>
                  {% endfor %}
                </tbody>
              </table>
              <hr>

              <div class="mt-3">
                <button type="submit" class="btn btn-lg btn-success">Register Selected Courses</button>
                <a href="{% url 'student_dashboard' %}" class="btn btn-lg btn-secondary">Cancel</a>
              </div>
          </form>



      </div>
  </div>
</div>



{% endblock %}
